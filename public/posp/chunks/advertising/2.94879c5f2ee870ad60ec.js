(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{193:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(202),r=a.n(n),i=(window.GLOBAL,function(){function e(){this.$request=void 0,this.dataMethodDefaults=void 0,this.$request=r.a.create({baseURL:"http://127.0.0.1:8090",headers:{token:"1234","Content-Type":"application/json"}}),this.$request.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)})}return e.prototype.request=function(e,t,a){return this.$request.post("/"+e,{HEAD:{token:"1234"},BODY:t}).then(a)},e}())},205:function(e,t,a){"use strict";var n=a(177),r=a.n(n),i=a(15),c=a.n(i),s=a(193),o=function(e){return e},l=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["agentLevel","agentName","mobile","idCard","createTime","invitationCode","parentName","sumAgent","sumSn","sumActivation","sumAmount","state"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"agentLevel":t.title="代理商等级";break;case"agentName":t.title="名称";break;case"mobile":t.title="手机号";break;case"idCard":t.title="身份证号";break;case"createTime":t.title="加入时间";break;case"invitationCode":t.title="邀请码";break;case"parentName":t.title="上级代理";break;case"sumAgent":t.title="渠道数";break;case"sumSn":t.title="终端数";break;case"sumActivation":t.title="激活数";break;case"sumAmount":t.title="总交易";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"正常";case 10:return"已冻结";default:return""}}}return t});e.BODY.header=r,e.BODY.rows=n}return e},u=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["messageId","type","toTarget","title","content","createTime"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"messageId":t.title="id";break;case"type":t.title="类型",t.render=function(e){switch(e){case 1:return"公告";case 2:return"推送消息";default:return""}};break;case"toTarget":t.title="用户类型",t.render=function(e){switch(e){case 1:return"商户";case 2:return"代理商";default:return""}};break;case"title":t.title="标题";break;case"content":t.title="内容";break;case"createTime":t.title="创建时间"}return t});e.BODY.header=r,e.BODY.rows=n}return e},h=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var a=t.prototype;return a.AGT_001=function(e){return this.request("AGT_001",e,l)},a.AGT_007=function(e){return this.request("AGT_007",e,o)},a.AGT_003=function(e){return this.request("AGT_003",e,o)},a.AGT_005=function(e){return this.request("AGT_005",r()({},e,{type:2}),o)},a.AGT_006=function(e){return this.request("AGT_006",e,o)},a.AGT_010=function(e){return this.request("AGT_010",e,o)},a.AGT_008=function(e){return this.request("AGT_008",e,o)},a.AGT_014=function(e){return this.request("AGT_014",e,o)},a.AGT_009=function(e){return this.request("AGT_009",e,o)},a.ACT_001=function(e){return this.request("ACT_001",e,o)},a.AGT_012=function(e){return this.request("AGT_012",e,o)},a.AGT_013=function(e){return this.request("AGT_013",e,o)},a.MSG_002=function(e){return this.request("MSG_002",e,u)},a.MSG_001=function(e){return this.request("MSG_001",e,o)},t}(s.a);t.a=new h},463:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),i=a(32),c=a(1),s=(a(197),a(200)),o=(a(211),a(220)),l=(a(179),a(180)),u=(a(183),a(190)),h=(a(191),a(189)),d=(a(181),a(187)),p=(a(182),a(188)),m=(a(101),a(178)),f=a(177),g=a.n(f),b=a(184),v=a.n(b),C=(a(185),a(192)),E=a(186),A=a.n(E),w=(a(195),a(194)),k=a(205),T=w.a.Option,y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={currentPage:1,pageSize:10},t.state={visible:!1,header:[],items:[],modalLoading:!1,tableLoading:!1,policyLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size},currentItem:{},btnDisabled:!0},t.addModal=function(){t.setState({visible:!0})},t.addMessage=A()(v.a.mark(function e(){var a,n,r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state.currentItem,"{}"!=JSON.stringify(a)){e.next=4;break}return C.a.info("提交不能为空"),e.abrupt("return",!1);case 4:return t.setState({tableLoading:!0}),t.setState({modalLoading:!0}),e.next=8,k.a.MSG_001(t.state.currentItem);case 8:n=e.sent,r=n.HEAD,n.BODY,i=r.MSG,"000"===r.CODE?(C.a.success("添加成功"),t.setState({visible:!1}),t.searchData()):C.a.error(i);case 13:case"end":return e.stop()}},e)})),t.searchData=A()(v.a.mark(function e(){var a,n,r,i,c,s,o,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,k.a.MSG_002(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,i=n.MSG,"000"===n.CODE?(c=r.header,s=r.rows,o=r.total,(l=g()({},t.state.pagination)).total=o,t.setState({header:c,items:s,tableLoading:!1,pagination:l})):C.a.error(i);case 8:case"end":return e.stop()}},e)})),t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.currentItem);switch(e){case"type":console.log("change value "+e+":"+a),n[e]=1,t.setState({currentItem:n});break;case"toTarget":case"popup":console.log("change value "+e+":"+a),n[e]=a,t.setState({currentItem:n});break;default:console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({currentItem:n})}}},t.handleCancelA=function(e){t.setState({visible:!1}),t.searchData()},t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(c.Fragment,null,React.createElement(d.a,null,React.createElement(p.a,{span:8},React.createElement(m.a,{type:"primary",style:{marginTop:4,position:"absolute",left:0},onClick:this.addModal},"添加"))),React.createElement(h.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:500},size:"middle",style:{position:"relative",top:40}}),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible,a=e.modalLoading,n=e.policyLoading,r=e.currentItem,i=void 0===r?{}:r,c=(e.btnDisabled,i.record),h=void 0===c?"":c,d=i.content,p=void 0===d?"":d,f=i.title,g=void 0===f?"":f;i.type,i.toTarget,i.popup;return React.createElement(s.a,{title:"新增消息",visible:t,onOk:this.handleOkA,onCancel:this.handleCancelA,width:1e3,footer:[React.createElement(m.a,{key:"back",onClick:this.handleCancelA},"取消"),React.createElement(m.a,{key:"submit",type:"primary",loading:a,onClick:this.addMessage},"确定添加")]},React.createElement(o.a,{tip:"加载中...",spinning:n},React.createElement(u.a.Item,{label:"类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(w.a,{style:{width:300},onChange:this.handleChangeParam("type")},React.createElement(T,{value:"1"},"公告"),React.createElement(T,{value:"2"},"推送消息"))),React.createElement(u.a.Item,{label:"用户类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(w.a,{style:{width:300},onChange:this.handleChangeParam("toTarget")},React.createElement(T,{value:"1"},"商户"),React.createElement(T,{value:"2"},"代理商"))),React.createElement(u.a.Item,{label:"标题",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(l.a,{value:g,onChange:this.handleChangeParam("title"),style:{width:300}})),React.createElement(u.a.Item,{label:"内容",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(l.a,{value:p,onChange:this.handleChangeParam("content"),style:{width:300}})),React.createElement(u.a.Item,{label:"描述",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(l.a,{value:h,onChange:this.handleChangeParam("record"),style:{width:300}})),React.createElement(u.a.Item,{label:"状态",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(w.a,{style:{width:300},onChange:this.handleChangeParam("popup")},React.createElement(T,{value:"1"},"开始弹窗"),React.createElement(T,{value:"10"},"关闭弹窗")))))},t}(c.Component);a.d(t,"default",function(){return R});var R=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.match;return React.createElement("div",null,React.createElement(i.Switch,null,React.createElement(i.Route,{path:e.url+"/adManagement",component:function(e){return React.createElement(y,e)}})))},t}(c.Component)}}]);