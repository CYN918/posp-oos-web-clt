(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{193:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(202),r=a.n(n),c=(window.GLOBAL,function(){function e(){this.$request=void 0,this.dataMethodDefaults=void 0,this.$request=r.a.create({baseURL:"http://10.10.5.237:8090",headers:{token:"1234","Content-Type":"application/json"}}),this.$request.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)})}return e.prototype.request=function(e,t,a){return this.$request.post("/"+e,{HEAD:{token:"1234"},BODY:t}).then(a)},e}())},462:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),c=a(32),i=a(1),o=(a(191),a(189)),s=(a(181),a(187)),l=(a(182),a(188)),u=(a(183),a(190)),m=(a(179),a(180)),h=(a(101),a(178)),p=a(177),d=a.n(p),g=a(184),f=a.n(g),b=(a(185),a(192)),C=a(186),E=a.n(C),v=a(193),k=function(e){return e},R=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["realName","mobile","bindsn","idCard","policyName","actnState","createTime","vipState","agentName","txnRate"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"realName":t.title="姓名";break;case"mobile":t.title="手机号";break;case"bindsn":t.title="绑定设备号";break;case"idCard":t.title="身份证号";break;case"policyName":t.title="终端政策";break;case"actnState":t.title="激活状态",t.render=function(e){switch(e){case 1:return"未激活";case 10:return"已激活";default:return""}};break;case"createTime":t.title="加入时间";break;case"vipState":t.title="是否VIP",t.render=function(e){switch(e){case 1:return"是";case 11:return"已过期";default:return""}};break;case"agentName":t.title="归属代理商";break;case"txnRate":t.title="交易费率"}return t});e.BODY.header=r,e.BODY.rows=n}return e},w=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t,e.id=e.mobile});var r=["realName","mobile","idCard","account","bankName","bankbranchName","agentName","createTime","state"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"realName":t.title="名称";break;case"mobile":t.title="电话";break;case"idCard":t.title="身份证号";break;case"account":t.title="银行卡号";break;case"bankName":t.title="银行名称";break;case"bankbranchName":t.title="支行名称";break;case"agentName":t.title="上级代理";break;case"createTime":t.title="提交时间";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"未绑定";case 2:return"未认证";case 10:return"已绑定";case 11:return"已认证";default:return""}}}return t});e.BODY.header=r,e.BODY.rows=n}return e},S=new(function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var a=t.prototype;return a.CST_001=function(e){return this.request("CST_001",e,R)},a.CST_005=function(e){return this.request("CST_005",e,k)},a.CST_006=function(e){return this.request("CST_006",d()({},e,{type:1}),k)},a.CST_003=function(e){return this.request("CST_003",e,w)},t}(v.a)),D=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",realName:"",currentPage:1,pageSize:10},t.state={header:[],items:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.resetPwd=function(e){return E()(f.a.mark(function a(){var n,r,c,i;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({tableLoading:!0}),n=e.mobile,a.next=4,S.CST_006({mobile:n});case 4:r=a.sent,c=r.HEAD,i=c.MSG,"000"===c.CODE?(b.a.success("密码重置成功"),t.searchData()):b.a.error(i);case 8:case"end":return a.stop()}},a)}))},t.searchData=E()(f.a.mark(function e(){var a,n,r,c,i,o,s,l,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,S.CST_001(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,c=n.MSG,"000"===n.CODE?(i=r.header,o=r.rows,s=r.total,l=[],o.forEach(function(e,t){var a={realName:e.realName,mobile:e.mobile,bindsn:e.bindsn,idCard:e.idCard,policyName:e.policyName,actnState:e.actnState,createTime:e.createTime,vipState:e.vipState,agentName:e.agentName,txnRate:(100*e.txnRate).toFixed(3)};l.push(a)}),(u=d()({},t.state.pagination)).total=s,i.push({title:"操作",dataIndex:"agentId",key:"agentId",fixed:"right",width:250,render:function(e){var a=t.getItem(e);return React.createElement("div",{className:"btn-group"},React.createElement(h.a,{style:{marginLeft:10},size:"small",onClick:t.resetPwd(a)},"重置密码"))}}),t.setState({header:i,items:l,tableLoading:!1,pagination:u})):b.a.error(c);case 8:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(i.Fragment,null,React.createElement(s.a,null,React.createElement(l.a,{span:8},React.createElement(u.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(m.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(l.a,{span:8},React.createElement(u.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(m.a,{placeholder:"请输入名称",onChange:this.handleChange("realName")}))),React.createElement(l.a,{span:8},React.createElement(h.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(o.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}))},t}(i.Component),y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",realName:"",currentPage:1,pageSize:10},t.state={header:[],items:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=E()(f.a.mark(function e(){var a,n,r,c,i,o,s,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,S.CST_003(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,c=n.MSG,"000"===n.CODE?(i=r.header,o=r.rows,s=r.total,(l=d()({},t.state.pagination)).total=s,t.setState({header:i,items:o,tableLoading:!1,pagination:l})):b.a.error(c);case 8:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(i.Fragment,null,React.createElement(s.a,null,React.createElement(l.a,{span:8},React.createElement(u.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(m.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(l.a,{span:8},React.createElement(u.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(m.a,{placeholder:"请输入名称",onChange:this.handleChange("realName")}))),React.createElement(l.a,{span:8},React.createElement(h.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(o.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}))},t}(i.Component);a.d(t,"default",function(){return N});var N=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.match;return React.createElement("div",null,React.createElement(c.Switch,null,React.createElement(c.Route,{path:e.url+"/bankCardManagement",component:function(e){return React.createElement(y,e)}}),React.createElement(c.Route,{path:e.url+"/merchantManagement",component:function(e){return React.createElement(D,e)}})))},t}(i.Component)}}]);