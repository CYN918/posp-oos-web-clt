(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{301:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(308),r=a.n(n),c=(window.GLOBAL,function(){function e(){this.$request=void 0,this.dataMethodDefaults=void 0,this.$request=r.a.create({baseURL:"http://10.10.5.198:8090",headers:{token:"1234","Content-Type":"application/json"}}),this.$request.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)})}return e.prototype.request=function(e,t,a){return this.$request.post("/"+e,{HEAD:{token:"1234"},BODY:t}).then(a)},e}())},461:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),c=a(34),i=a(1),o=(a(300),a(299)),l=(a(295),a(297)),s=(a(296),a(298)),u=(a(190),a(78)),h=(a(191),a(109)),m=(a(98),a(72)),p=a(294),d=a.n(p),g=a(108),f=a.n(g),b=(a(192),a(110)),C=a(173),E=a.n(C),v=a(301),k=function(e){return e},R=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["realName","mobile","bindsn","idCard","policyName","actnState","createTime","vipState","agentName","txnRate"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"realName":t.title="姓名";break;case"mobile":t.title="手机号";break;case"bindsn":t.title="绑定设备号";break;case"idCard":t.title="身份证号";break;case"policyName":t.title="终端政策";break;case"actnState":t.title="激活状态";break;case"createTime":t.title="加入时间";break;case"vipState":t.title="是否VIP";break;case"agentName":t.title="归属代理商";break;case"txnRate":t.title="交易费率"}return t});e.BODY.header=r,e.BODY.rows=n}return e},w=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t,e.id=e.mobile});var r=["realName","mobile","idCard","account","bankName","bankbranchName","agentName","createTime","state"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"realName":t.title="名称";break;case"mobile":t.title="电话";break;case"idCard":t.title="身份证号";break;case"account":t.title="银行卡号";break;case"bankName":t.title="银行名称";break;case"bankbranchName":t.title="支行名称";break;case"agentName":t.title="上级代理";break;case"createTime":t.title="提交时间";break;case"state":t.title="状态"}return t});e.BODY.header=r,e.BODY.rows=n}return e},D=new(function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var a=t.prototype;return a.CST_001=function(e){return this.request("CST_001",e,R)},a.CST_005=function(e){return this.request("CST_005",e,k)},a.CST_006=function(e){return this.request("CST_006",d()({},e,{type:1}),k)},a.CST_003=function(e){return this.request("CST_003",e,w)},t}(v.a)),S=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",realName:"",currentPage:1,pageSize:10},t.state={header:[],items:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.resetPwd=function(e){return E()(f.a.mark(function a(){var n,r,c,i;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({tableLoading:!0}),n=e.mobile,a.next=4,D.CST_006({mobile:n});case 4:r=a.sent,c=r.HEAD,i=c.MSG,"000"===c.CODE?(b.a.success("密码重置成功"),t.searchData()):b.a.error(i);case 8:case"end":return a.stop()}},a)}))},t.searchData=E()(f.a.mark(function e(){var a,n,r,c,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,D.CST_001(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,c=n.MSG,"000"===n.CODE?(i=r.header,o=r.rows,l=r.total,(s=d()({},t.state.pagination)).total=l,i.push({title:"操作",dataIndex:"agentId",key:"agentId",fixed:"right",width:250,render:function(e){var a=t.getItem(e);return console.log(a),React.createElement("div",{className:"btn-group"},React.createElement(m.a,{style:{marginLeft:10},size:"small",onClick:t.resetPwd(a)},"重置密码"))}}),t.setState({header:i,items:o,tableLoading:!1,pagination:s})):b.a.error(c);case 8:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(i.Fragment,null,React.createElement(l.a,null,React.createElement(s.a,{span:8},React.createElement(u.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(h.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(s.a,{span:8},React.createElement(u.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(h.a,{placeholder:"请输入名称",onChange:this.handleChange("realName")}))),React.createElement(s.a,{span:8},React.createElement(m.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(o.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}))},t}(i.Component),y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",realName:"",currentPage:1,pageSize:10},t.state={header:[],items:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=E()(f.a.mark(function e(){var a,n,r,c,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,D.CST_003(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,c=n.MSG,"000"===n.CODE?(i=r.header,o=r.rows,l=r.total,(s=d()({},t.state.pagination)).total=l,t.setState({header:i,items:o,tableLoading:!1,pagination:s})):b.a.error(c);case 8:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(i.Fragment,null,React.createElement(l.a,null,React.createElement(s.a,{span:8},React.createElement(u.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(h.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(s.a,{span:8},React.createElement(u.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(h.a,{placeholder:"请输入名称",onChange:this.handleChange("realName")}))),React.createElement(s.a,{span:8},React.createElement(m.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(o.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}))},t}(i.Component);a.d(t,"default",function(){return T});var T=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.match;return React.createElement("div",null,React.createElement(c.Switch,null,React.createElement(c.Route,{path:e.url+"/bankCardManagement",component:function(e){return React.createElement(y,e)}}),React.createElement(c.Route,{path:e.url+"/merchantManagement",component:function(e){return React.createElement(S,e)}})))},t}(i.Component)}}]);