(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{301:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(308),r=a.n(n),o=(window.GLOBAL,function(){function e(){this.$request=void 0,this.dataMethodDefaults=void 0,this.$request=r.a.create({baseURL:"http://10.10.5.198:8090",headers:{token:"1234","Content-Type":"application/json"}}),this.$request.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)})}return e.prototype.request=function(e,t,a){return this.$request.post("/"+e,{HEAD:{token:"1234"},BODY:t}).then(a)},e}())},305:function(e,t,a){"use strict";var n=a(19),r=a.n(n),o=a(301),c=function(e){return e},l=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["startSn","endSn","total","state","anentName","toAgentName","mobile","toMobile"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"startSn":t.title="终端号始";break;case"endSn":t.title="终端号末";break;case"total":t.title="几局数量";break;case"state":t.title="终端状态",t.render=function(e){switch(e){case 1:return"下拨中";case 2:return"已下拨";case 10:return"已失效";default:return""}};break;case"anentName":t.title="划拨人";break;case"toAgentName":t.title="接收人";break;case"mobile":t.title="划拨人手机号";break;case"toMobile":t.title="接收人手机号"}return t});e.BODY.header=r,e.BODY.rows=n}return e},s=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["prefix","sn15","random","secretKey","salt","factoryName"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"prefix":t.title="前缀";break;case"sn15":t.title="序列号";break;case"random":t.title="随机位";break;case"secretKey":t.title="密钥";break;case"salt":t.title="盐钥";break;case"factoryName":t.title="厂商名称"}return t});e.BODY.header=r,e.BODY.rows=n}return e},i=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["factoryId","factoryNo","factoryName","posModel","posName"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"factoryId":t.title="厂商id";break;case"factoryNo":t.title="厂商编号";break;case"factoryName":t.title="厂商名称";break;case"posModel":t.title="支持终端型号";break;case"posName":t.title="终端名称"}return t});e.BODY.header=r,e.BODY.rows=n}return e},u=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyActivationId","depositAmount","cashbackAmount","state","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyActivationId":t.title="激活政策ID";break;case"depositAmount":t.title="押金金额";break;case"cashbackAmount":t.title="返现金额";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},d=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyActivityId","validDay","achieveAmount","state","cashbackAmount","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyActivityId":t.title="活动返现政策ID";break;case"validDay":t.title="有效天数";break;case"achieveAmount":t.title="达标金额";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"cashbackAmount":t.title="返现金额";break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},m=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyCouponId","achieveAmount","validDay","state","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyCouponId":t.title="抵扣券ID";break;case"achieveAmount":t.title="面额";break;case"validDay":t.title="有效天数";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},p=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["buyAmount","validDay","rate","state","cashbackAmount","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"buyAmount":t.title="购买金额";break;case"validDay":t.title="有效天数";break;case"rate":t.title="费率";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"cashbackAmount":t.title="返现金额";break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},h=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["startSn","endSn","total"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"startSn":t.title="终端号始";break;case"endSn":t.title="终端号末";break;case"total":t.title="总数"}return t});e.BODY.header=r,e.BODY.rows=n}return e},f=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["name","state","record","jhRecord","hdRecord","yhRecord"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"name":t.title="政策名称";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"正常";case 10:return"下架";default:return""}};break;case"record":t.title="描述";break;case"jhRecord":t.title="激活描述";break;case"hdRecord":t.title="活动描述";break;case"yhRecord":t.title="优惠描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},g=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyId","id","toAgentId","code","num","amount","term","downType","sns"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyId":t.title="政策id";break;case"id":t.title="代理商id";break;case"toAgentId":t.title="接受代理商id";break;case"code":t.title="订单号";break;case"num":t.title="机具总数量";break;case"amount":t.title="保理总额";break;case"term":t.title="期数";break;case"downType":t.title="划拨状态",t.render=function(e){switch(e){case 1:return"区间划拨";case 2:return"选择划拨";default:return""}};break;case"sns":t.title="区间划拨所返回的终端list"}return t});e.BODY.header=r,e.BODY.rows=n}return e},y=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var a=t.prototype;return a.POS_001=function(e){return this.request("POS_001",e,s)},a.POS_011=function(e){return this.request("POS_011",e,POS011Dto)},a.POS_002=function(e){return this.request("POS_002",e,c)},a.POS_007=function(e){return this.request("POS_007",e,c)},a.POS_009=function(e){return this.request("POS_009",e,i)},a.POS_010=function(e){return this.request("POS_010",e,c)},a.POS_008=function(e){return this.request("POS_008",e,c)},a.POS_002=function(e){return this.request("POS_002",e,c)},a.POS_013=function(e){return this.request("POS_013",e,l)},a.ACT_001=function(e){return this.request("ACT_001",e,u)},a.ITY_001=function(e){return this.request("ITY_001",e,d)},a.ACT_002=function(e){return this.request("ACT_002",e,c)},a.ITY_002=function(e){return this.request("ITY_002",e,c)},a.COU_001=function(e){return this.request("COU_001",e,m)},a.COU_002=function(e){return this.request("COU_002",e,c)},a.VIP_001=function(e){return this.request("VIP_001",e,p)},a.VIP_002=function(e){return this.request("VIP_002",e,c)},a.PLC_001=function(e){return this.request("PLC_001",e,f)},a.PLC_002=function(e){return this.request("PLC_002",e,c)},a.POS_014=function(e){return this.request("POS_014",e,c)},a.POS_003=function(e){return this.request("POS_003",e,c)},a.AGT_007=function(e){return this.request("AGT_007",e,c)},a.POS_004=function(e){return this.request("POS_004",e,c)},a.POS_006=function(e){return this.request("POS_006",e,c)},a.POS_005=function(e){return this.request("POS_005",e,h)},a.POS_012=function(e){return this.request("POS_012",e,g)},a.POS_011=function(e){return this.request("POS_011",e,c)},t}(o.a);t.a=new y},459:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),o=a(34),c=a(1),l=(a(300),a(299)),s=(a(295),a(297)),i=(a(190),a(78)),u=(a(191),a(109)),d=(a(296),a(298)),m=(a(455),a(454)),p=(a(98),a(72)),h=(a(120),a(12)),f=a(311),g=a.n(f),y=a(108),b=a.n(y),E=(a(192),a(110)),v=a(294),S=a.n(v),C=a(173),w=a.n(C),R=(a(303),a(302)),I=a(305),P=a(308),D=a.n(P),O=R.a.Option,k=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={policyName:"",currentPage:1,pageSize:10},t.storageParam={startSn:"",policyId:"",endSn:""},t.state={header:[],items:[],tableLoading:!1,modalLoading:!1,btnLoading:!1,policy:[],pagination:{total:0,current:0,pageSize:t.searchParam.size},componentItem:{},fileList:[],uploading:!1},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=w()(b.a.mark(function e(){var a,n,r,o,c,l,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,I.a.POS_001(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(c=r.header,l=r.rows,s=r.total,(i=S()({},t.state.pagination)).total=s,t.setState({header:c,items:l,tableLoading:!1,pagination:i})):E.a.error(o);case 8:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleUpload=function(){var e=t.state.fileList,a=new FormData;e.forEach(function(e){a.append("idPicture",e)}),t.setState({uploading:!0}),D()({url:"http://10.10.5.198:8090/POS_007",method:"post",headers:{credentials:"same-origin"},body:a,processData:!0,data:a,success:function(){t.setState({fileList:[],uploading:!1}),E.a.success(MSG)},error:function(){t.setState({uploading:!1}),E.a.error("upload failed.")}})},t.loadPolicy=function(){var e=w()(b.a.mark(function e(a){var n,r,o,c,l,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.POS_003({policyId:a});case 2:n=e.sent,r=n.HEAD,o=n.BODY,c=r.MSG,"000"===r.CODE?(l=o.rows,t.setState({policy:l}),l?t.setState({componentItem:l,policyLoading:!1,btnDisabled:!0}):(s={policyId:a},t.setState({componentItem:s,policyLoading:!1,btnDisabled:!1}))):E.a.error(c);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.sureData=w()(b.a.mark(function e(){var a,n,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.storageParam),t.setState({policyLoading:!0}),e.next=4,I.a.POS_011(t.storageParam);case 4:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(r.rows,E.a.success(o),t.searchData()):E.a.error(o);case 9:case"end":return e.stop()}},e)})),t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.currentItem);switch(e){case"policyId":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy(a),t.storageParam[e]=a,t.setState({componentItem:n});break;case"startSn":case"endSn":console.log("change value "+e+":"+a.target.value),t.storageParam[e]=a.target.value,t.setState({componentItem:n});break;default:console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({componentItem:n})}}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData(),this.loadPolicy()},a.render=function(){var e,t,a=this,n=this.state,r=n.header,o=n.modalLoading,f=n.items,y=n.tableLoading,b=n.pagination,E=n.policy,v=(n.policyLoading,n.btnLoading,n.componentItem),S=void 0===v?{}:v;g()(S);var C=this.state,w=C.uploading,I=C.fileList,P={onRemove:function(e){a.setState(function(t){var a=t.fileList.indexOf(e),n=t.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(e){return a.setState(function(t){return{fileList:[].concat(t.fileList,[e])}}),!1},fileList:I};return React.createElement(c.Fragment,null,React.createElement(s.a,null,React.createElement(d.a,{span:7},React.createElement(m.a,P,React.createElement(p.a,null,React.createElement(h.a,{type:"upload"}),"上传文件"))),React.createElement(d.a,{span:3},React.createElement(p.a,{type:"primary",disabled:0===I.length,loading:w,onClick:this.handleUpload},w?"Uploading":"确定上传")),React.createElement(d.a,{span:7,style:{width:"100%"}}),React.createElement(d.a,{span:7},React.createElement(i.a.Item,{label:"序列号始",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,((e={onChange:this.handleChangeParam("startSn"),placeholder:"请输入序列号始",style:{width:"49%"}}).style={width:170},e)))),React.createElement(d.a,{span:7},React.createElement(i.a.Item,{label:"序列号末",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,((t={onChange:this.handleChangeParam("endSn"),placeholder:"请输入序列号末",style:{width:"49%"}}).style={width:170},t)))),React.createElement(d.a,{span:7},React.createElement(i.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("policyId"),style:{width:170}},E.map(function(e,t){var a=e.policyId,n=e.name;return React.createElement(O,{id:"select",key:t,value:a},n)})))),React.createElement(d.a,{span:3},React.createElement(p.a,{type:"primary",loading:o,style:{position:"absolute",right:40},onClick:this.sureData},"确定入库"))),React.createElement(l.a,{columns:r,onChange:this.handleTableChange,pagination:b,loading:y,dataSource:f,scroll:{x:2e3},size:"middle",style:{marginTop:4}}))},t}(c.Component),A=(a(208),a(177)),L=(a(306),a(307)),_=R.a.Option,x=L.a.confirm,B=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={policyName:"",currentPage:1,pageSize:10},t.storageParam={policyId:""},t.storageParams={toAgentId:""},t.storageParams1={amount:""},t.state={header:[],items:[],tableLoading:!1,btnLoading:!1,disabled:!1,modalLoading:!1,policy:[],policy1:[],currentItem:{},visible:!1,data:[],endSn:"",startSn:"",endSns:"",startSns:"",orderNumber:"",theAgent:"",policyType:"",machinesTool:"",machinesPrice:"",loanAmount:"",eachAmount:"",term:"",total:"",posList:[]},t.addModal=function(){t.loadPolicy2(),t.setState({visible:!0})},t.handleCancelA=function(e){console.log(e),t.setState({visible:!1})},t.createFactoring=w()(b.a.mark(function e(){var a,n,r,o,c,l,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(document.getElementById("factoringAmount").value>t.state.loanAmount)){e.next=3;break}return E.a.info("保理总额不能大于贷款总额"),e.abrupt("return",!1);case 3:return t.setState({modalLoading:!0}),t.setState({tableLoading:!0}),a={id:"0",orderNo:t.state.orderNumber,num:t.state.machinesTool,downType:1,sns:t.state.posList},n=t.storageParam,r=t.storageParams,o=t.storageParams1,c={},Object.assign(c,a,n,r,o),e.next=13,I.a.POS_012(c);case 13:l=e.sent,s=l.HEAD,l.BODY,i=s.MSG,"000"===s.CODE?(E.a.success(i),t.setState({visible:!1}),t.searchData()):E.a.error(i);case 18:case"end":return e.stop()}},e)})),t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.index===e&&(a=t)}),a},t.searchData=w()(b.a.mark(function e(){var a,n,r,o,c,l,s,i,u,d,m,h,f,g,y;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.state.startSn<t.state.startSns)){e.next=3;break}return E.a.info("输入的序列号始值不能小于序列号始值"),e.abrupt("return",!1);case 3:if(!(t.state.endSn>t.state.endSns)){e.next=6;break}return E.a.info("输入的序列号末值不能大于序列号末值"),e.abrupt("return",!1);case 6:if(!(t.state.startSn>t.state.endSn)){e.next=9;break}return E.a.info("输入的序列号始值不能大于等于序列号末值"),e.abrupt("return",!1);case 9:if(!(t.state.endSn<t.state.startSn)){e.next=12;break}return E.a.info("输入的序列号末值不能小于等于序列号始值"),e.abrupt("return",!1);case 12:return a=document.getElementById("endSn").value-document.getElementById("startSn").value,t.setState({machinesTool:a}),t.setState({tableLoading:!0}),n={startSn:t.state.startSn,endSn:t.state.endSn,id:0,posList:t.state.posList},r=t.storageParam,o={},Object.assign(o,n,r),e.next=21,I.a.POS_005(o);case 21:if(c=e.sent,l=c.HEAD,s=c.BODY,i=l.MSG,"000"===l.CODE){for(u=s.header,d=s.rows,m=s.total,h=0,f=0,g=0;g<d.length;g++)h+=d[g].total,t.setState({total:h}),f+=d[g].endSn-d[g].startSn+1,t.setState({machinesTool:f});(y=S()({},t.state.pagination)).total=m,t.setState({posList:d}),console.log(t.state.posList),u.push({title:"操作",dataIndex:"index",key:"index",fixed:"right",width:200,render:function(e){var a=t.getItem(e);return React.createElement("div",{className:"btn-group",id:"dele"},React.createElement(p.a,{style:{marginLeft:10},size:"small",onClick:t.setParam(a)},"删除"))}}),t.setState({header:u,items:d,tableLoading:!1,pagination:y})}else E.a.error(i);case 26:case"end":return e.stop()}},e)})),t.setParam=function(e){return function(){x({title:"确定是否删除?",onOk:function(){document.getElementById("dele").style.display="none"},onCancel:function(){console.log("Cancel")}})}},t.loadPolicy=function(){var e=w()(b.a.mark(function e(a){var n,r,o,c,l,s,i,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.POS_003({policyId:a});case 2:if(n=e.sent,r=n.HEAD,o=n.BODY,c=r.MSG,"000"===r.CODE)if(l=o.rows,t.setState({policy:l}),l)for(t.setState({currentItem:l,policyLoading:!1}),s=t.state.currentItem,i=0;i<s.length;i++)a===s[i].policyId&&(t.setState({policyType:s[i].name}),t.setState({startSn:s[i].startSn}),t.setState({startSns:s[i].startSn}),t.setState({endSn:s[i].endSn}),t.setState({endSns:s[i].endSn}));else u={policyId:a},t.setState({currentItem:u,policyLoading:!1,btnDisabled:!0});else E.a.error(c);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.loadPolicy1=function(){var e=w()(b.a.mark(function e(a){var n,r,o,c,l,s,i,u,d,m;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.POS_004();case 2:if(n=e.sent,r=n.HEAD,o=n.BODY,c=r.MSG,"000"===r.CODE){for(l=o.rows,s=0;s<l.length;s++)if(a===l[s].agentId){for("00",i=l[s].agentId,t.setState({theAgent:l[s].agentName}),u=t.generateTimeReqestNumber(),d="",s=0;s<4;s++)d+=Math.floor(10*Math.random());m="00"+i+u+d,t.setState({orderNumber:m})}t.setState({policy1:l})}else E.a.error(c);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.loadPolicy2=function(){var e=w()(b.a.mark(function e(a){var n,r,o,c,l,s,i,u,d,m,p,h,f,g;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({policyLoading:!0}),e.next=3,I.a.POS_006();case 3:if(n=e.sent,r=n.HEAD,o=n.BODY,c=r.MSG,"000"===r.CODE)for(s=(l=o).POS_PRICE/100,i=t.state.machinesTool,u=s*i,t.setState({machinesPrice:s}),t.setState({loanAmount:u}),d=document.getElementById("factoringAmount").value,m=l.LOAN_TERMS,p=Array.from(m.split(",")),t.setState({data:p}),h=0;h<p.length;h++)a===p[h]&&(f=p[h],g=d/f,t.setState({eachAmount:g}),t.setState({term:f}));else E.a.error(c);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.currentItem);switch(e){case"policyId":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy(a),t.storageParam[e]=a,t.setState({currentItem:n});break;case"toAgentId":console.log("change value "+e+":"+a),t.storageParams[e]!==a&&t.loadPolicy1(a),t.storageParams[e]=a,t.setState({currentItem:n});break;case"term":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy2(a),t.storageParam[e]=a,t.setState({currentItem:n});break;case"amount":console.log("change value "+e+":"+a.target.value),t.storageParams1[e]=100*a.target.value,t.setState({currentItem:n});break;default:console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({currentItem:n})}}},t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.loadPolicy(),this.loadPolicy1()},a.generateTimeReqestNumber=function(){var e=new Date;return e.getFullYear().toString()+this.pad2(e.getMonth()+1)+this.pad2(e.getDate())+this.pad2(e.getHours())+this.pad2(e.getMinutes())+this.pad2(e.getSeconds())},a.pad2=function(e){return e<10?"0"+e:e},a.render=function(){var e=this,t=this.state,a=t.header,n=t.modalLoading,r=t.items,o=t.tableLoading,m=t.pagination,h=t.policy,f=t.policy1,g=(t.policyLoading,t.btnLoading,t.btnDisabled),y=t.startSn,b=t.endSn;return React.createElement(c.Fragment,null,React.createElement(s.a,null,React.createElement(d.a,{span:7,style:{width:"100%"}},React.createElement(i.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("policyId"),style:{width:"49%"}},h.map(function(e,t){var a=e.policyId,n=e.name;return React.createElement(_,{id:"select",key:t,value:a},n)})))),React.createElement(d.a,{span:7,style:{width:"100%"}},React.createElement(i.a.Item,{label:"代理商选择",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("toAgentId"),style:{width:"49%"}},f.map(function(e,t){var a=e.agentId,n=e.agentName;return React.createElement(_,{key:t,value:a},n)})))),React.createElement(d.a,{span:7,style:{width:"100%"}},React.createElement(i.a.Item,{label:"序列号始",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{onChange:function(t){return e.setState({startSn:t.target.value})},placeholder:"请输入序列号始",id:"startSn",style:{width:"49%"},value:y}))),React.createElement(d.a,{span:7,style:{width:"100%"}},React.createElement(i.a.Item,{label:"序列号末",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{onChange:function(t){return e.setState({endSn:t.target.value})},placeholder:"请输入序列号末",id:"endSn",style:{width:"49%"},value:b}))),React.createElement(d.a,{span:14}),React.createElement(d.a,{span:3},React.createElement(p.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0,top:-62},onClick:this.searchData},"查询"))),React.createElement(l.a,{columns:a,onChange:this.handleTableChange,pagination:m,loading:o,dataSource:r,scroll:{x:500},size:"middle"}),React.createElement(d.a,{span:3},React.createElement(p.a,{type:"primary",style:{position:"absolute",left:0,top:0},disabled:g,loading:n,onClick:this.addModal},"确认划拨")),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible,a=e.modalLoading,n=(e.policy,e.policyLoading,e.disabled),r=this.state,o=r.orderNumber,c=r.theAgent,l=r.policyType,s=r.machinesTool,d=r.machinesPrice,m=r.loanAmount,h=(r.factoringAmount,r.eachAmount);return React.createElement(L.a,{title:"设置还款计划",visible:t,onOk:this.handleOkA,onCancel:this.handleCancelA,width:1e3,footer:[React.createElement(p.a,{key:"back",onClick:this.handleCancelA},"取消订单"),React.createElement(p.a,{key:"submit",type:"primary",loading:a,onClick:this.createFactoring},"发送订单")]},React.createElement(i.a.Item,{label:"订单号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,o))),React.createElement(i.a.Item,{label:"接收代理商",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,c))),React.createElement(i.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,l))),React.createElement(i.a.Item,{label:"机具数量",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,s))),React.createElement(i.a.Item,{label:"单价",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,d))),React.createElement(i.a.Item,{label:"贷款总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(A.a,{title:"prompt text"},React.createElement("span",null,m))),React.createElement(i.a.Item,{label:"保理总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"factoringAmount",onChange:this.handleChangeParam("amount"),style:{width:300}})),React.createElement(i.a.Item,{label:"期数",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("term"),showSearch:!0,style:{width:300},placeholder:"选择期数",className:"ddlResourceType",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.data.map(function(e){return React.createElement(_,{key:e,value:e},e)}))),React.createElement(i.a.Item,{label:"每期金额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{disabled:n,onChange:this.handleChangeParam("initialPassword"),style:{width:300},value:h})))},t}(c.Component),Y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",toMobile:"",currentPage:1,pageSize:10},t.state={header:[],items:[],policy:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size},curItem:[]},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.loanId===e&&(a=t)}),a},t.handleCancelA=function(e){console.log(e),t.setState({visible:!1}),t.searchData()},t.searchData=w()(b.a.mark(function e(){var a,n,r,o,c,l,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,I.a.POS_013(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(console.log(r),c=r.header,l=r.rows,s=r.total,(i=S()({},t.state.pagination)).total=s,c.push({title:"操作",dataIndex:"loanId",key:"loanId",fixed:"right",width:200,render:function(e){var a=t.getItem(e);return React.createElement("div",{className:"btn-group"},React.createElement(p.a,{style:{marginLeft:10},size:"small",onClick:t.setParam(a)},"查看保理"))}}),t.setState({header:c,items:l,tableLoading:!1,pagination:i})):E.a.error(o);case 8:case"end":return e.stop()}},e)})),t.setParam=function(e){return function(){var a=e.loanId;t.loadPolicy(a),t.setState({componentModalVisible:!0,curItem:{loanId:a}}),t.setState({visible:!0})}},t.loadPolicy=function(){var e=w()(b.a.mark(function e(a){var n,r,o,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({policyLoading:!0}),e.next=3,I.a.POS_014({loanId:a});case 3:n=e.sent,r=n.HEAD,o=n.BODY,c=r.MSG,"000"===r.CODE?(l=o.res,document.getElementById("orderNo").value=l.orderNo,document.getElementById("price").value=l.price,document.getElementById("num").value=l.num,document.getElementById("term").value=l.term,document.getElementById("amount").value=l.amount,document.getElementById("termAmount").value=l.termAmount,document.getElementById("agentName").value=l.agentName,document.getElementById("toAgentName").value=l.toAgentName,document.getElementById("policyName").value=l.policyName):E.a.error(c);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(c.Fragment,null,React.createElement(s.a,null,React.createElement(d.a,{span:8},React.createElement(i.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(d.a,{span:8},React.createElement(i.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{placeholder:"请输入名称",onChange:this.handleChange("toMobile")}))),React.createElement(d.a,{span:8},React.createElement(p.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(l.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible;e.modalLoading,e.policyLoading,e.curItem,e.policy;return React.createElement(L.a,{visible:t,onCancel:this.handleCancelA,width:1e3,footer:null},React.createElement(i.a.Item,{label:"订单号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"orderNo",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"单价",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"price",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"总数量",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"num",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"总期数",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"term",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"保理总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"amount",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"每期金额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"termAmount",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"发送人",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"agentName",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"接收人",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"toAgentName",readonly:"readonly",style:{width:300}})),React.createElement(i.a.Item,{label:"政策名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"policyName",readonly:"readonly",style:{width:300}})))},t}(c.Component),N=(a(312),a(320)),M=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={currentPage:"1",pageSize:"10"},t.state={header:[],modalLoading:!1,tableLoading:!1,policyLoading:!1,visible:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size},curItem:{}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=w()(b.a.mark(function e(){var a,n,r,o,c,l,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,I.a.POS_009(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(c=r.header,l=r.rows,s=r.total,(i=S()({},t.state.pagination)).total=s,t.setState({header:c,items:l,tableLoading:!1,pagination:i})):E.a.error(o);case 8:case"end":return e.stop()}},e)})),t.newData=function(){t.setState({visible:!0})},t.handleCancelA=function(e){console.log(e),t.setState({visible:!1}),t.searchData()},t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.addSure=w()(b.a.mark(function e(){var a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({modalLoading:!0}),e.next=3,I.a.POS_008(t.state.curItem);case 3:a=e.sent,n=a.HEAD,a.BODY,r=n.MSG,"000"===n.CODE?(E.a.success("添加成功"),t.setState({visible:!1}),t.searchData()):E.a.error(r);case 8:case"end":return e.stop()}},e)})),t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.curItem);console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({curItem:n})}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(c.Fragment,null,React.createElement(s.a,null,React.createElement(d.a,{span:8,labelCol:{span:6},wrapperCol:{span:16}},React.createElement(p.a,{type:"primary",style:{top:0,position:"absolute",left:0},onClick:this.newData},"新增"))),React.createElement(l.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle",style:{position:"relative",top:40}}),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible,a=e.modalLoading,n=e.policyLoading,r=e.curItem,o=void 0===r?{}:r,c=o.factoryNo,l=void 0===c?"":c,s=o.factoryName,d=void 0===s?"":s,m=o.posModel,h=void 0===m?"":m,f=o.posName,g=void 0===f?"":f;return React.createElement(L.a,{title:"新增厂商",visible:t,onOk:this.handleOkA,onCancel:this.handleCancelA,width:1e3,footer:[React.createElement(p.a,{key:"back",onClick:this.handleCancelA},"取消"),React.createElement(p.a,{key:"submit",type:"primary",loading:a,onClick:this.addSure},"确定添加")]},React.createElement(N.a,{tip:"加载中...",spinning:n},React.createElement(i.a.Item,{label:"厂商编号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:l,onChange:this.handleChangeParam("factoryNo"),style:{width:300}})),React.createElement(i.a.Item,{label:"厂商名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:d,onChange:this.handleChangeParam("factoryName"),style:{width:300}})),React.createElement(i.a.Item,{label:"支持终端型号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:h,onChange:this.handleChangeParam("posModel"),style:{width:300}})),React.createElement(i.a.Item,{label:"终端名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:g,onChange:this.handleChangeParam("posName"),style:{width:300}}))))},t}(c.Component);a.d(t,"default",function(){return T});var T=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.match;return React.createElement("div",null,React.createElement(o.Switch,null,React.createElement(o.Route,{path:e.url+"/terminalStorage",component:function(e){return React.createElement(k,e)}}),React.createElement(o.Route,{path:e.url+"/terminalTransfer",component:function(e){return React.createElement(B,e)}}),React.createElement(o.Route,{path:e.url+"/transferRecord",component:function(e){return React.createElement(Y,e)}}),React.createElement(o.Route,{path:e.url+"/transferVendor",component:function(e){return React.createElement(M,e)}})))},t}(c.Component)}}]);