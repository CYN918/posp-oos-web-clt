(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{193:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(202),r=a.n(n),o=(window.GLOBAL,function(){function e(){this.$request=void 0,this.dataMethodDefaults=void 0,this.$request=r.a.create({baseURL:"http://10.10.5.237:8081",headers:{token:"1234","Content-Type":"application/json"}}),this.$request.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)})}return e.prototype.request=function(e,t,a){return this.$request.post("/"+e,{HEAD:{token:"1234"},BODY:t}).then(a)},e}())},201:function(e,t,a){"use strict";var n=a(15),r=a.n(n),o=a(193),s=function(e){return e},i=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["startSn","endSn","total","state","anentName","toAgentName","mobile","toMobile"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"startSn":t.title="终端号始";break;case"endSn":t.title="终端号末";break;case"total":t.title="机具数量";break;case"state":t.title="终端状态",t.render=function(e){switch(e){case 1:return"下拨中";case 2:return"已下拨";case 10:return"已失效";default:return""}};break;case"anentName":t.title="划拨人";break;case"toAgentName":t.title="接收人";break;case"mobile":t.title="划拨人手机号";break;case"toMobile":t.title="接收人手机号"}return t});e.BODY.header=r,e.BODY.rows=n}return e},l=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["prefix","sn15","random","secretKey","salt","factoryName","state"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"prefix":t.title="前缀";break;case"sn15":t.title="序列号";break;case"random":t.title="随机位";break;case"secretKey":t.title="密钥";break;case"salt":t.title="盐钥";break;case"factoryName":t.title="厂商名称";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"已设置";case 10:return"未设置";default:return""}}}return t});e.BODY.header=r,e.BODY.rows=n}return e},c=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["factoryId","factoryNo","factoryName","posModel","posName"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"factoryId":t.title="厂商id";break;case"factoryNo":t.title="厂商编号";break;case"factoryName":t.title="厂商名称";break;case"posModel":t.title="支持终端型号";break;case"posName":t.title="终端名称"}return t});e.BODY.header=r,e.BODY.rows=n}return e},u=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyActivationId","depositAmount","cashbackAmount","state","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyActivationId":t.title="激活政策ID";break;case"depositAmount":t.title="押金金额(元)";break;case"cashbackAmount":t.title="返现金额(元)";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},p=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyActivityId","validDay","achieveAmount","state","cashbackAmount","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyActivityId":t.title="活动返现政策ID";break;case"validDay":t.title="有效时间";break;case"achieveAmount":t.title="达标金额(元)";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"cashbackAmount":t.title="返现金额(元)";break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},d=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["policyCouponId","achieveAmount","validDay","state","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"policyCouponId":t.title="抵扣券ID";break;case"achieveAmount":t.title="面额(元)";break;case"validDay":t.title="有效天数(天)";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},m=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["buyAmount","validDay","rate","state","cashbackAmount","record"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"buyAmount":t.title="购买金额(元)";break;case"validDay":t.title="有效时间(天)";break;case"rate":t.title="费率(%)";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"上架";case 10:return"下架";default:return""}};break;case"cashbackAmount":t.title="返现金额(元)";break;case"record":t.title="描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},h=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.jsonValues;n.forEach(function(e,t){e.key=t});var r=["startSn","endSn","total"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"startSn":t.title="终端号始";break;case"endSn":t.title="终端号末";break;case"total":t.title="总数"}return t});e.BODY.header=r,e.BODY.rows=n}return e},f=function(e){var t=e.HEAD,a=e.BODY;if("000"===t.CODE){var n=a.rows;n.forEach(function(e,t){e.key=t});var r=["name","state","record","jhRecord","hdRecord","yhRecord"].map(function(e){var t={title:"",dataIndex:e,key:e};switch(e){case"name":t.title="政策名称";break;case"state":t.title="状态",t.render=function(e){switch(e){case 1:return"正常";case 10:return"下架";default:return""}};break;case"record":t.title="描述";break;case"jhRecord":t.title="激活描述";break;case"hdRecord":t.title="活动描述";break;case"yhRecord":t.title="优惠描述"}return t});e.BODY.header=r,e.BODY.rows=n}return e},g=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var a=t.prototype;return a.POS_001=function(e){return this.request("POS_001",e,l)},a.POS_002=function(e){return this.request("POS_002",e,s)},a.POS_007=function(e){return this.request("POS_007",e,s)},a.POS_009=function(e){return this.request("POS_009",e,c)},a.POS_010=function(e){return this.request("POS_010",e,s)},a.POS_008=function(e){return this.request("POS_008",e,s)},a.POS_002=function(e){return this.request("POS_002",e,s)},a.POS_013=function(e){return this.request("POS_013",e,i)},a.ACT_001=function(e){return this.request("ACT_001",e,u)},a.ITY_001=function(e){return this.request("ITY_001",e,p)},a.ACT_002=function(e){return this.request("ACT_002",e,s)},a.ITY_002=function(e){return this.request("ITY_002",e,s)},a.COU_001=function(e){return this.request("COU_001",e,d)},a.COU_002=function(e){return this.request("COU_002",e,s)},a.VIP_001=function(e){return this.request("VIP_001",e,m)},a.VIP_002=function(e){return this.request("VIP_002",e,s)},a.PLC_001=function(e){return this.request("PLC_001",e,f)},a.PLC_002=function(e){return this.request("PLC_002",e,s)},a.POS_014=function(e){return this.request("POS_014",e,s)},a.POS_003=function(e){return this.request("POS_003",e,s)},a.AGT_007=function(e){return this.request("AGT_007",e,s)},a.POS_004=function(e){return this.request("POS_004",e,s)},a.POS_006=function(e){return this.request("POS_006",e,s)},a.POS_005=function(e){return this.request("POS_005",e,h)},a.POS_012=function(e){return this.request("POS_012",e,s)},a.POS_011=function(e){return this.request("POS_011",e,s)},t}(o.a);t.a=new g},412:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,definition;
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */definition=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(!function(){var e=new Error("Cannot find module 'xhr2'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,a){return function(){return e._aborted?a(e.request):e._timedOut?a(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):a(e.request)))}}function setHeaders(e,t){var a,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var r="undefined"!=typeof FormData&&t.data instanceof FormData;for(a in t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||r||(n[contentType]=t.contentType||defaultHeaders.contentType),n)n.hasOwnProperty(a)&&"setRequestHeader"in e&&e.setRequestHeader(a,n[a])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,a,n){var r=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(r),i=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=n.match(i),c=doc.createElement("script"),u=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?n=n.replace(i,"$1="+s):s=l[3]:n=urlappend(n,o+"="+s),context[s]=generalCallback,c.type="text/javascript",c.src=n,c.async=!0,void 0===c.onreadystatechange||p||(c.htmlFor=c.id="_reqwest_"+r),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||u)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),u=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,a({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),u=1}}}function getRequest(e,t){var a,n=this.o,r=(n.method||"GET").toUpperCase(),o="string"==typeof n?n:n.url,s=!1!==n.processData&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,i=!1;return"jsonp"!=n.type&&"GET"!=r||!s||(o=urlappend(o,s),s=null),"jsonp"==n.type?handleJsonp(n,e,t,o):((a=n.xhr&&n.xhr(n)||xhr(n)).open(r,o,!1!==n.async),setHeaders(a,n),setCredentials(a,n),context[xDomainRequest]&&a instanceof context[xDomainRequest]?(a.onload=e,a.onerror=t,a.onprogress=function(){},i=!0):a.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(a),i?setTimeout(function(){a.send(s)},200):a.send(s),a)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,a){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=a,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,a);complete(e)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var a,n,r,o,s=e.name,i=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(i){case"input":/reset|button|image|file/i.test(e.type)||(a=/checkbox/i.test(e.type),n=/radio/i.test(e.type),r=e.value,(!a&&!n||e.checked)&&t(s,normalize(a&&""===r?"on":r)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,a=this,n=function(e,t){var n,r,o;for(n=0;n<t.length;n++)for(o=e[byTag](t[n]),r=0;r<o.length;r++)serial(o[r],a)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,a),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,a){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(a)):e[t]=a},arguments),e}function buildParams(e,t,a,n){var r,o,s,i=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],a||i.test(e)?n(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,a,n);else if(t&&"[object Object]"===t.toString())for(r in t)buildParams(e+"["+r+"]",t[r],a,n);else n(e,t)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,a){e.push({name:t,value:a})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t=Array.prototype.slice.call(arguments,0);return(e=t.pop())&&e.nodeType&&t.push(e)&&(e=null),e&&(e=e.type),("map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,t)},reqwest.toQueryString=function(e,t){var a,n,r=t||!1,o=[],s=encodeURIComponent,i=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)i(e[n].name,e[n].value);else for(a in e)e.hasOwnProperty(a)&&buildParams(a,e[a],r,i);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},reqwest},module.exports?module.exports=definition():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=definition)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},460:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),o=a(32),s=a(1),i=(a(191),a(189)),l=(a(181),a(187)),c=(a(183),a(190)),u=(a(179),a(180)),p=(a(182),a(188)),d=(a(455),a(453)),m=(a(101),a(178)),h=(a(104),a(13)),f=a(221),g=a.n(f),y=a(184),b=a.n(y),v=(a(185),a(192)),E=a(177),S=a.n(E),w=a(186),C=a.n(w),R=(a(195),a(194)),_=a(201),P=a(412),k=a.n(P),D=R.a.Option,x=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={policyName:"",currentPage:1,pageSize:10},t.storageParam={startSn:"",policyId:"",endSn:""},t.state={header:[],items:[],tableLoading:!1,modalLoading:!1,btnLoading:!1,policy:[],pagination:{total:0,current:0,pageSize:t.searchParam.size},componentItem:{},fileList:[],uploading:!1},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=C()(b.a.mark(function e(){var a,n,r,o,s,i,l,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,_.a.POS_001(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(s=r.header,i=r.rows,l=r.total,(c=S()({},t.state.pagination)).total=l,t.setState({header:s,items:i,tableLoading:!1,pagination:c})):v.a.error(o);case 8:case"end":return e.stop()}},e)})),t.searchData1=C()(b.a.mark(function e(){var a,n,r,o,s,i,l,c,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=/^\d+$|^\d+[.]?\d+$/,""!=t.storageParam.startSn){e.next=4;break}return v.a.info("请输入序列号始"),e.abrupt("return",!1);case 4:if(!(t.storageParam.startSn.length<15)){e.next=7;break}return v.a.info("序列号始必须是15位"),e.abrupt("return",!1);case 7:if(a.test(t.storageParam.startSn)){e.next=10;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 10:if(""!=t.storageParam.endSn){e.next=13;break}return v.a.info("请输入序列号末"),e.abrupt("return",!1);case 13:if(!(t.storageParam.endSn.length<15)){e.next=16;break}return v.a.info("序列号末必须是15位"),e.abrupt("return",!1);case 16:if(a.test(t.storageParam.endSn)){e.next=19;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 19:if(!(t.storageParam.startSn>t.storageParam.endSn)){e.next=22;break}return v.a.info("序列号始不能大于序列号末"),e.abrupt("return",!1);case 22:return t.setState({tableLoading:!0}),e.next=25,_.a.POS_001(t.storageParam);case 25:n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE?(i=o.header,l=o.rows,c=o.total,(u=S()({},t.state.pagination)).total=c,t.setState({header:i,items:l,tableLoading:!1,pagination:u})):v.a.error(s);case 30:case"end":return e.stop()}},e)})),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleUpload=function(){var e=t.state.fileList,a=new FormData;e.forEach(function(e){a.append("idPicture",e)}),t.setState({uploading:!0}),k()({url:"http://10.10.5.237:8081/POS_007",method:"post",processData:!1,data:a,success:function(){var e=JSON.parse(event.currentTarget.response);if(console.log(e.HEAD.CODE),"000"===e.HEAD.CODE){t.setState({fileList:[],uploading:!1}),v.a.success("文件上传成功!");var a=location.href;location.replace(a),t.searchData()}else t.setState({fileList:[],uploading:!1}),v.a.error(e.HEAD.MSG)}})},t.loadPolicy=function(){var e=C()(b.a.mark(function e(a){var n,r,o,s,i,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.AGT_007({policyId:a});case 2:n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE?(i=o.rows,t.setState({policy:i}),i?t.setState({componentItem:i,policyLoading:!1,btnDisabled:!0}):(l={policyId:a},t.setState({componentItem:l,policyLoading:!1,btnDisabled:!1}))):v.a.error(s);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.sureData=C()(b.a.mark(function e(){var a,n,r,o,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=/^\d+$|^\d+[.]?\d+$/,""!=t.storageParam.startSn){e.next=4;break}return v.a.info("请输入序列号始"),e.abrupt("return",!1);case 4:if(a.test(t.storageParam.startSn)){e.next=7;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 7:if(!(t.storageParam.startSn.length<15)){e.next=10;break}return v.a.info("序列号始必须是15位"),e.abrupt("return",!1);case 10:if(""!=t.storageParam.endSn){e.next=13;break}return v.a.info("请输入序列号末"),e.abrupt("return",!1);case 13:if(a.test(t.storageParam.endSn)){e.next=16;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 16:if(!(t.storageParam.endSn.length<15)){e.next=19;break}return v.a.info("序列号末必须是15位"),e.abrupt("return",!1);case 19:if(!(t.storageParam.startSn>t.storageParam.endSn)){e.next=22;break}return v.a.info("序列号始不能大于序列号末"),e.abrupt("return",!1);case 22:if(""!=t.storageParam.policyId){e.next=25;break}return v.a.info("请选择政策"),e.abrupt("return",!1);case 25:return t.setState({policyLoading:!0}),e.next=28,_.a.POS_011(t.storageParam);case 28:n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE?(o.rows,v.a.success("确定上传成功"),t.searchData()):v.a.error(s);case 33:case"end":return e.stop()}},e)})),t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.currentItem);switch(e){case"policyId":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy(a),t.storageParam[e]=a,t.setState({componentItem:n});break;case"startSn":case"endSn":console.log("change value "+e+":"+a.target.value),t.storageParam[e]=a.target.value,t.setState({componentItem:n});break;default:console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({componentItem:n})}}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData(),this.loadPolicy()},a.render=function(){var e=this,t=this.state,a=t.header,n=t.modalLoading,r=t.items,o=t.tableLoading,f=t.pagination,y=t.policy,b=(t.policyLoading,t.btnLoading,t.componentItem),E=void 0===b?{}:b;g()(E);var S=this.state,w=S.uploading,C=S.fileList,_={onRemove:function(t){e.setState(function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(t){var a=t.name,n=a.lastIndexOf("."),r=a.length;return".txt"===a.substring(n,r)?t.size/1024?(e.setState(function(e){return{fileList:[].concat(e.fileList,[t])}}),!1):(v.a.error("文件大小不能超过10MB!"),!1):(v.a.error("请上传txt文件!"),!1)},fileList:C};return React.createElement(s.Fragment,null,React.createElement(l.a,null,React.createElement(p.a,{span:7},React.createElement(d.a,_,React.createElement(m.a,null,React.createElement(h.a,{type:"upload"}),"上传文件"))),React.createElement(p.a,{span:3},React.createElement(m.a,{type:"primary",disabled:0===C.length,loading:w,onClick:this.handleUpload},w?"Uploading":"确定上传")),React.createElement(p.a,{span:7,style:{width:"100%"}}),React.createElement(p.a,{span:7},React.createElement(c.a.Item,{label:"序列号始",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{onChange:this.handleChangeParam("startSn"),placeholder:"请输入序列号始",maxLength:15,style:{width:"100%"}}))),React.createElement(p.a,{span:7},React.createElement(c.a.Item,{label:"序列号末",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{maxLength:15,onChange:this.handleChangeParam("endSn"),placeholder:"请输入序列号末",style:{width:"100%"}}))),React.createElement(p.a,{span:7},React.createElement(c.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("policyId"),style:{width:230}},y.map(function(e,t){var a=e.policyId,n=e.name;return React.createElement(D,{id:"select",key:t,value:a},n)})))),React.createElement(p.a,{span:3},React.createElement(m.a,{type:"primary",loading:n,style:{position:"absolute",right:89,top:40},onClick:this.searchData1},"查询"),React.createElement(m.a,{type:"primary",loading:n,style:{position:"absolute",right:0,top:40},onClick:this.sureData},"确定入库"))),React.createElement(i.a,{columns:a,onChange:this.handleTableChange,pagination:f,loading:o,dataSource:r,scroll:{x:2e3},size:"middle",style:{marginTop:20}}))},t}(s.Component),O=(a(103),a(76)),I=(a(197),a(200)),A=R.a.Option,q=(I.a.confirm,function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={policyName:"",currentPage:1,pageSize:10},t.storageParam={policyId:""},t.storageParams={toAgentId:""},t.state={header:[],items:[],tableLoading:!1,btnDisabled:!1,btnLoading:!1,disabled:!1,policy:[],policy1:[],currentItem:{},visible:!1,data:[],endSn:"",startSn:"",endSns:"",startSns:"",orderNumber:"",theAgent:"",policyType:"",machinesTool:"",machinesPrice:"",loanAmount:"",eachAmount:"",term:"",total:"",dailishang:"",posList:[],amount:""},t.addModal=function(){for(var e=t.state.dailishang,a=t.generateTimeReqestNumber(),n="",r=0;r<4;r++)n+=Math.floor(10*Math.random());var o="00"+e+a+n;t.setState({orderNumber:o}),t.loadPolicy2(),t.setState({visible:!0})},t.handleCancelA=function(e){t.setState({visible:!1}),t.setState({amount:""}),t.setState({eachAmount:""})},t.createFactoring=C()(b.a.mark(function e(){var a,n,r,o,s,i,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.state.orderNumber){e.next=3;break}return v.a.info("订单号不能为空"),e.abrupt("return",!1);case 3:if(""!=t.state.machinesTool){e.next=6;break}return v.a.info("机具数量不能为空"),e.abrupt("return",!1);case 6:if(!(document.getElementById("factoringAmount").value>t.state.loanAmount)){e.next=9;break}return v.a.info("保理总额不能大于贷款总额"),e.abrupt("return",!1);case 9:return a={id:"0",orderNo:t.state.orderNumber,num:t.state.machinesTool,downType:1,sns:t.state.posList,amount:100*t.state.amount},n=t.storageParam,r=t.storageParams,o={},Object.assign(o,a,n,r),t.setState({modalLoading:!0}),e.next=17,_.a.POS_012(o);case 17:s=e.sent,i=s.HEAD,s.BODY,l=i.MSG,"000"===i.CODE?(v.a.success("创建保理成功"),t.setState({visible:!1}),t.setState({modalLoading:!1})):v.a.error(l);case 22:case"end":return e.stop()}},e)})),t.searchData=C()(b.a.mark(function e(){var a,n,r,o,s,i,l,c,u,p,d,h,f,g,y,E;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=/^\d+$|^\d+[.]?\d+$/,""!=t.storageParam.policyId){e.next=4;break}return v.a.info("请选择政策类型"),e.abrupt("return",!1);case 4:if(""!=t.storageParams.toAgentId){e.next=7;break}return v.a.info("请选择代理商"),e.abrupt("return",!1);case 7:if(""!=t.state.startSn){e.next=10;break}return v.a.info("请输入序列号始"),e.abrupt("return",!1);case 10:if(a.test(t.state.startSn)){e.next=13;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 13:if(""!=t.state.endSn){e.next=16;break}return v.a.info("请输入序列号末"),e.abrupt("return",!1);case 16:if(a.test(t.state.endSn)){e.next=19;break}return v.a.info("只能输入数字"),e.abrupt("return",!1);case 19:return n=document.getElementById("endSn").value-document.getElementById("startSn").value,t.setState({machinesTool:n}),t.setState({tableLoading:!0}),r={startSn:t.state.startSn,endSn:t.state.endSn,id:0,posList:t.state.posList},o=t.storageParam,s={},Object.assign(s,r,o),e.next=28,_.a.POS_005(s);case 28:if(i=e.sent,l=i.HEAD,c=i.BODY,u=l.MSG,"000"===l.CODE){for(p=c.header,d=c.rows,h=c.total,""!=c.message&&v.a.info(c.message),f=0,g=0,y=0;y<d.length;y++)f+=d[y].total,t.setState({total:f}),g+=d[y].endSn-d[y].startSn+1,t.setState({machinesTool:g});(E=S()({},t.state.pagination)).total=h,t.setState({posList:d}),p.push({title:"操作",dataIndex:"key",key:"key",fixed:"right",width:200,render:function(e){var a=t.getItem(e);return React.createElement("div",{className:"btn-group"},React.createElement(m.a,{style:{marginLeft:10},size:"small",onClick:t.setParam(a)},"删除"))}}),t.setState({header:p,items:d,tableLoading:!1,pagination:E})}else v.a.error(u);case 33:case"end":return e.stop()}},e)})),t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.key===e&&(a=t)}),a},t.setParam=function(e){return C()(b.a.mark(function a(){var n,r,o,s;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.state.items,r=n.indexOf(e),n.splice(r,1),t.setState({items:n}),o=0,"0"==n.length)t.setState({machinesTool:""});else for(s=0;s<n.length;s++)o+=n[s].total,t.setState({machinesTool:o});case 6:case"end":return a.stop()}},a)}))},t.loadPolicy=function(){var e=C()(b.a.mark(function e(a){var n,r,o,s,i,l,c,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.POS_003({policyId:a});case 2:if(n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE)if(i=o.rows,t.setState({policy:i}),i)for(t.setState({currentItem:i,policyLoading:!1}),l=t.state.currentItem,c=0;c<l.length;c++)a===l[c].policyId&&(t.setState({policyType:l[c].name}),t.setState({startSn:l[c].startSn}),t.setState({startSns:l[c].startSn}),t.setState({endSn:l[c].endSn}),t.setState({endSns:l[c].endSn}));else u={policyId:a},t.setState({currentItem:u,policyLoading:!1,btnDisabled:!0});else v.a.error(s);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.loadPolicy1=function(){var e=C()(b.a.mark(function e(a){var n,r,o,s,i,l,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.POS_004();case 2:if(n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE){for(i=o.rows,l=0;l<i.length;l++)a===i[l].agentId&&(c=i[l].agentId,t.setState({dailishang:c}),t.setState({theAgent:i[l].agentName}));t.setState({policy1:i})}else v.a.error(s);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.loadPolicy2=function(){var e=C()(b.a.mark(function e(a){var n,r,o,s,i,l,c,u,p,d,m,h,f,g;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({policyLoading:!0}),e.next=3,_.a.POS_006();case 3:if(n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE)for(l=(i=o).POS_PRICE/100,c=t.state.machinesTool,u=l*c,t.setState({machinesPrice:l}),t.setState({loanAmount:u}),p=document.getElementById("factoringAmount").value,d=i.LOAN_TERMS,m=Array.from(d.split(",")),t.setState({data:m}),h=0;h<m.length;h++)a===m[h]&&(f=m[h],g=p/f,t.setState({eachAmount:g}),t.setState({term:f}));else v.a.error(s);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.currentItem);switch(e){case"policyId":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy(a),t.storageParam[e]=a,t.setState({currentItem:n}),t.setState({items:""}),t.setState({posList:[]});break;case"toAgentId":console.log("change value "+e+":"+a),t.storageParams[e]!==a&&t.loadPolicy1(a),t.storageParams[e]=a,t.setState({currentItem:n});break;case"term":console.log("change value "+e+":"+a),t.storageParam[e]!==a&&t.loadPolicy2(a),t.storageParam[e]=a,t.setState({currentItem:n});break;case"amount":console.log("change value "+e+":"+a.target.value),t.storageParams1[e]=100*a.target.value,t.setState({currentItem:n});break;default:console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({currentItem:n})}}},t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){})},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.loadPolicy(),this.loadPolicy1()},a.generateTimeReqestNumber=function(){var e=new Date;return e.getFullYear().toString()+this.pad2(e.getMonth()+1)+this.pad2(e.getDate())+this.pad2(e.getHours())+this.pad2(e.getMinutes())+this.pad2(e.getSeconds())},a.pad2=function(e){return e<10?"0"+e:e},a.PrefixZero=function(e,t){return(Array(t).join(0)+e).slice(-t)},a.render=function(){var e=this,t=this.state,a=t.header,n=(t.modalLoading,t.items),r=t.tableLoading,o=t.pagination,d=t.policy,h=t.policy1,f=(t.policyLoading,t.btnLoading,t.btnDisabled),g=t.startSn,y=t.endSn;return React.createElement(s.Fragment,null,React.createElement(l.a,null,React.createElement(p.a,{span:7,style:{width:"100%"}},React.createElement(c.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("policyId"),style:{width:"49%"}},d.map(function(e,t){var a=e.policyId,n=e.name;return React.createElement(A,{id:"select",key:t,value:a},n)})))),React.createElement(p.a,{span:7,style:{width:"100%"}},React.createElement(c.a.Item,{label:"代理商选择",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("toAgentId"),style:{width:"49%"}},h.map(function(e,t){var a=e.agentId,n=e.agentName;return React.createElement(A,{key:t,value:a},n)})))),React.createElement(p.a,{span:7,style:{width:"100%"}},React.createElement(c.a.Item,{label:"序列号始",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{type:"text",maxLength:15,onChange:function(t){return e.setState({startSn:t.target.value})},placeholder:"请输入序列号始",id:"startSn",style:{width:"49%"},value:g}))),React.createElement(p.a,{span:7,style:{width:"100%"}},React.createElement(c.a.Item,{label:"序列号末",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{type:"text",maxLength:15,onChange:function(t){return e.setState({endSn:t.target.value})},placeholder:"请输入序列号末",id:"endSn",style:{width:"49%"},value:y}))),React.createElement(p.a,{span:14}),React.createElement(p.a,{span:3},React.createElement(m.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0,top:-62},onClick:this.searchData},"查询"))),React.createElement(i.a,{columns:a,onChange:this.handleTableChange,pagination:o,loading:r,dataSource:n,scroll:{x:500},size:"middle"}),React.createElement(p.a,{span:3},React.createElement(m.a,{type:"primary",disabled:f,style:{position:"absolute",left:0,top:0},onClick:this.addModal},"确认划拨")),this.renderaddModal())},a.renderaddModal=function(){var e=this,t=this.state,a=t.visible,n=t.modalLoading,r=(t.policy,t.policyLoading,t.disabled),o=this.state,s=o.orderNumber,i=o.theAgent,l=o.policyType,p=o.machinesTool,d=o.machinesPrice,h=o.loanAmount,f=(o.factoringAmount,o.eachAmount),g=o.amount;return React.createElement(I.a,{title:"设置还款计划",visible:a,onOk:this.handleOkA,onCancel:this.handleCancelA,width:1e3,footer:[React.createElement(m.a,{key:"back",onClick:this.handleCancelA},"取消订单"),React.createElement(m.a,{key:"submit",type:"primary",loading:n,onClick:this.createFactoring},"发送订单")]},React.createElement(c.a.Item,{label:"订单号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,s))),React.createElement(c.a.Item,{label:"接收代理商",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,i))),React.createElement(c.a.Item,{label:"政策类型",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,l))),React.createElement(c.a.Item,{label:"机具数量",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,p))),React.createElement(c.a.Item,{label:"单价",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,d))),React.createElement(c.a.Item,{label:"贷款总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(O.a,{title:"prompt text"},React.createElement("span",null,h))),React.createElement(c.a.Item,{label:"保理总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:g,id:"factoringAmount",onChange:function(t){return e.setState({amount:t.target.value})},style:{width:300}})),React.createElement(c.a.Item,{label:"期数",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(R.a,{onChange:this.handleChangeParam("term"),showSearch:!0,style:{width:300},placeholder:"选择期数",className:"ddlResourceType",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.data.map(function(e){return React.createElement(A,{key:e,value:e},e)}))),React.createElement(c.a.Item,{label:"每期金额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{disabled:r,onChange:this.handleChangeParam("initialPassword"),style:{width:300},value:f})))},t}(s.Component)),L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={mobile:"",toMobile:"",currentPage:1,pageSize:10},t.state={header:[],items:[],policy:[],tableLoading:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size},curItem:[]},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.loanId===e&&(a=t)}),a},t.handleCancelA=function(e){console.log(e),t.setState({visible:!1}),t.searchData()},t.searchData=C()(b.a.mark(function e(){var a,n,r,o,s,i,l,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,_.a.POS_013(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(console.log(r),s=r.header,i=r.rows,l=r.total,(c=S()({},t.state.pagination)).total=l,s.push({title:"操作",dataIndex:"loanId",key:"loanId",fixed:"right",width:200,render:function(e){var a=t.getItem(e);return React.createElement("div",{className:"btn-group"},React.createElement(m.a,{style:{marginLeft:10},size:"small",onClick:t.setParam(a)},"查看保理"))}}),t.setState({header:s,items:i,tableLoading:!1,pagination:c})):v.a.error(o);case 8:case"end":return e.stop()}},e)})),t.setParam=function(e){return function(){var a=e.loanId;t.loadPolicy(a),t.setState({componentModalVisible:!0,curItem:{loanId:a}}),t.setState({visible:!0})}},t.loadPolicy=function(){var e=C()(b.a.mark(function e(a){var n,r,o,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({policyLoading:!0}),e.next=3,_.a.POS_014({loanId:a});case 3:n=e.sent,r=n.HEAD,o=n.BODY,s=r.MSG,"000"===r.CODE?(i=o.res,document.getElementById("orderNo").value=i.orderNo,document.getElementById("price").value=i.price/100,document.getElementById("num").value=i.num,document.getElementById("term").value=i.term,document.getElementById("amount").value=i.amount/100,document.getElementById("termAmount").value=i.termAmount/100,document.getElementById("agentName").value=i.agentName,document.getElementById("toAgentName").value=i.toAgentName,document.getElementById("policyName").value=i.policyName):v.a.error(s);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(s.Fragment,null,React.createElement(l.a,null,React.createElement(p.a,{span:8},React.createElement(c.a.Item,{label:"手机号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{placeholder:"请输入手机号",onChange:this.handleChange("mobile")}))),React.createElement(p.a,{span:8},React.createElement(c.a.Item,{label:"名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{placeholder:"请输入名称",onChange:this.handleChange("toMobile")}))),React.createElement(p.a,{span:8},React.createElement(m.a,{type:"primary",style:{marginTop:4,position:"absolute",right:0},onClick:this.searchData},"查询"))),React.createElement(i.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle"}),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible;e.modalLoading,e.policyLoading,e.curItem,e.policy;return React.createElement(I.a,{visible:t,onCancel:this.handleCancelA,width:1e3,footer:null},React.createElement(c.a.Item,{label:"订单号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"orderNo",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"单价",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"price",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"总数量",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"num",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"总期数",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"term",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"保理总额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"amount",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"每期金额",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"termAmount",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"发送人",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"agentName",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"接收人",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"toAgentName",readonly:"readonly",style:{width:300}})),React.createElement(c.a.Item,{label:"政策名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{id:"policyName",readonly:"readonly",style:{width:300}})))},t}(s.Component),T=(a(211),a(220)),H=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).searchParam={currentPage:"1",pageSize:"10"},t.state={header:[],modalLoading:!1,tableLoading:!1,policyLoading:!1,visible:!1,pagination:{total:0,current:0,pageSize:t.searchParam.size},curItem:{}},t.getItem=function(e){var a={};return t.state.items.forEach(function(t){t.agentId===e&&(a=t)}),a},t.searchData=C()(b.a.mark(function e(){var a,n,r,o,s,i,l,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({tableLoading:!0}),e.next=3,_.a.POS_009(t.searchParam);case 3:a=e.sent,n=a.HEAD,r=a.BODY,o=n.MSG,"000"===n.CODE?(s=r.header,i=r.rows,l=r.total,(c=S()({},t.state.pagination)).total=l,t.setState({header:s,items:i,tableLoading:!1,pagination:c})):v.a.error(o);case 8:case"end":return e.stop()}},e)})),t.newData=function(){t.setState({visible:!0})},t.handleCancelA=function(e){console.log(e),t.setState({visible:!1}),t.searchData()},t.handleTableChange=function(e){t.searchParam.currentPage=e.current,t.setState({pagination:e},function(){t.searchData()})},t.addSure=C()(b.a.mark(function e(){var a,n,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state.curItem,console.log(a),"{}"!=JSON.stringify(a)){e.next=5;break}return v.a.info("提交不能为空"),e.abrupt("return",!1);case 5:return t.setState({modalLoading:!0}),e.next=8,_.a.POS_008(t.state.curItem);case 8:n=e.sent,r=n.HEAD,n.BODY,o=r.MSG,"000"===r.CODE?(v.a.success("添加成功"),t.setState({visible:!1}),t.searchData(),t.setState({modalLoading:!1})):v.a.error(o);case 13:case"end":return e.stop()}},e)})),t.handleChange=function(e){return function(a){console.log("change value "+e+":"+a.target.value),t.searchParam[e]=a.target.value}},t.handleChangeParam=function(e){return function(a){var n=Object.assign({},t.state.curItem);console.log("change value "+e+":"+a.target.value),n[e]=a.target.value,t.setState({curItem:n})}},t}r()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.searchData()},a.render=function(){var e=this.state,t=e.header,a=e.items,n=e.tableLoading,r=e.pagination;return React.createElement(s.Fragment,null,React.createElement(l.a,null,React.createElement(p.a,{span:8},React.createElement(m.a,{type:"primary",style:{top:0,position:"absolute",left:0},onClick:this.newData},"新增"))),React.createElement(i.a,{columns:t,onChange:this.handleTableChange,pagination:r,loading:n,dataSource:a,scroll:{x:2e3},size:"middle",style:{position:"relative",top:40}}),this.renderaddModal())},a.renderaddModal=function(){var e=this.state,t=e.visible,a=e.modalLoading,n=e.policyLoading,r=e.curItem,o=void 0===r?{}:r,s=o.factoryNo,i=void 0===s?"":s,l=o.factoryName,p=void 0===l?"":l,d=o.posModel,h=void 0===d?"":d,f=o.posName,g=void 0===f?"":f;return React.createElement(I.a,{title:"新增厂商",visible:t,onOk:this.handleOkA,onCancel:this.handleCancelA,width:1e3,footer:[React.createElement(m.a,{key:"back",onClick:this.handleCancelA},"取消"),React.createElement(m.a,{key:"submit",type:"primary",loading:a,onClick:this.addSure},"确定添加")]},React.createElement(T.a,{tip:"加载中...",spinning:n},React.createElement(c.a.Item,{label:"厂商编号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:i,onChange:this.handleChangeParam("factoryNo"),style:{width:300}})),React.createElement(c.a.Item,{label:"厂商名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:p,onChange:this.handleChangeParam("factoryName"),style:{width:300}})),React.createElement(c.a.Item,{label:"支持终端型号",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:h,onChange:this.handleChangeParam("posModel"),style:{width:300}})),React.createElement(c.a.Item,{label:"终端名称",labelCol:{span:6},wrapperCol:{span:16}},React.createElement(u.a,{value:g,onChange:this.handleChangeParam("posName"),style:{width:300}}))))},t}(s.Component);a.d(t,"default",function(){return B});var B=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.match;return React.createElement("div",null,React.createElement(o.Switch,null,React.createElement(o.Route,{path:e.url+"/terminalStorage",component:function(e){return React.createElement(x,e)}}),React.createElement(o.Route,{path:e.url+"/terminalTransfer",component:function(e){return React.createElement(q,e)}}),React.createElement(o.Route,{path:e.url+"/transferRecord",component:function(e){return React.createElement(L,e)}}),React.createElement(o.Route,{path:e.url+"/transferVendor",component:function(e){return React.createElement(H,e)}})))},t}(s.Component)}}]);